# Changelog

## [2024-01-15] - Добавление плавных переходов для видео в секции команды

### Добавлено

- Плавные переходы между постером и видео (0.5s ease-in-out)
- Отдельный элемент постера для лучшего контроля анимации
- Градиентные состояния загрузки видео (прозрачность 0.8 при готовности)
- Анимация кнопки воспроизведения с hover эффектом
- Улучшенная визуальная обратная связь при загрузке

### Изменено

- Структура компонента: постер теперь отдельный div элемент
- CSS переходы увеличены до 0.5s для более плавной анимации
- Логика показа видео: opacity 0.8 при загрузке, 1.0 при воспроизведении
- Улучшены z-index значения для корректного наложения элементов
- Обновлены данные команды с более разнообразными видео

### Исправлено

- Убран неработающий CSS attr(data-poster)
- Исправлена логика класса video-loaded (!isLoading вместо isLoading)
- Улучшена плавность переходов между состояниями

## [2024-01-15] - Исправление воспроизведения видео в секции команды

### Добавлено

- Улучшенная обработка состояний загрузки видео
- Поддержка различных событий загрузки видео (onLoadStart, onCanPlay, onError)
- Индикатор загрузки видео с настраиваемыми параметрами
- Обработка ошибок с отображением сообщений пользователю
- Поддержка autoplay policy браузеров

### Изменено

- Переименовано состояние `isLoaded` в `isLoading` для более точного отражения логики
- Улучшена логика хука `useVideo` с использованием `useCallback`
- Обновлена логика показа компонентов (лоадер, кнопка воспроизведения)
- Добавлен атрибут `playsInline` для мобильных устройств
- Добавлен `preload="metadata"` для оптимизации загрузки

### Исправлено

- Исправлена проблема с неработающим воспроизведением видео при наведении
- Исправлена логика лоадера (показывался в неправильное время)
- Улучшена обработка ошибок загрузки видео
- Добавлена защита от множественных вызовов воспроизведения

### Техническая информация

- Файлы: `src/widgets/mainblocks/team/index.tsx`, `src/shared/lib/cls/video/use-video/index.tsx`
- Стили: `styles/pages/home.scss`
- Данные: видео файлы в `public/video/` (1.mp4, 2.mp4, 3.mp4)
